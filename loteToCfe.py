import re,os

#xmlmain = u'<envCFe xmlns="http://www.fazenda.sp.gov.br/sat" versao="0.07"><tpAmb>1</tpAmb><idLote>1194</idLote><cUF>35</cUF><LoteCFe><CFe><infCFe versaoSB="010200" versaoDadosEnt="0.07" versao="0.07" Id="CFe35190502177216000152590005900960202501943209"><ide><cUF>35</cUF><cNF>194320</cNF><mod>59</mod><nserieSAT>000590096</nserieSAT><nCFe>020250</nCFe><dEmi>20190501</dEmi><hEmi>072644</hEmi><cDV>9</cDV><tpAmb>1</tpAmb><CNPJ>14072178000152</CNPJ><signAC>f6BDUfkqhBjSHu8QsE6znxQO750wXoTIp+konWrs/ZRmdUYLsm+9NATp7Yge4It4ObzNe8m0/V8DNFb8UXB8HqiKSw1yWJz46/v6IEHvKLMCpJUnVnYEh7/y4e5U0dLn4HCx1quZYB/g2x1Jm33peS++ld6VGkmiMX2VqGPRNsilaegJH8YdpsirT86ercFWaZRavRP16lu1s4HqFbZogz7LcHn9whDelFCq3fBigaPSs1e1uOtEvrFlGqxf3xTzknVrNGcBOpcvJCCuOz7VfaCQn3OoDL2LaQHmNECuwn2dj+B/SF+plae/pl2fq4nsVtXj8OyUH4OUo/Fa3zH+uA==</signAC><assinaturaQRCODE>frNBAuKFY3uWJOcRGakDEguNX1v/+Oz6xaHLQwd0op931vxaEv7aT0+W+AYWEcFqP1/LeOZKuaOmOs5ZU8cBeErnQGx+4Gf5D7eyd4VQxtsoPaBg9PjpU7AxFrGTR+OunLXRbWb8ru9HIuVJjZmq3BwiH3/G3qydIWoalkSZQOLjTjwUP579I8rRt8Mg7IbT7S8Vrrer8UzPYnJ7Q5ZGxaRLmO81XF4INEJYJhXt2EhTnLoN0JNLIh+M3EiscdfDcKXWGo6tnJPV5OErGAugaFbTxW78BNeLeFafrSApWIcF7Q20DUNBUBLR/MyOEpjXK1ITBB04SGCtkae2Mia2gQ==</assinaturaQRCODE><numeroCaixa>001</numeroCaixa></ide><emit><CNPJ>02177216000152</CNPJ><xNome>DESTRO E DESTRO COMERCIO DE ALIMENTOS LTDA</xNome><enderEmit><xLgr>RUA TAUBATE</xLgr><nro>753</nro><xCpl>Nao Informado</xCpl><xBairro>ESTUFA I</xBairro><xMun>UBATUBA</xMun><CEP>11680000</CEP></enderEmit><IE>701042501116</IE><cRegTrib>1</cRegTrib><indRatISSQN>N</indRatISSQN></emit><dest></dest><det nItem="1"><prod><cProd>1</cProd><xProd>PAO FRANCES</xProd><NCM>19059010</NCM><CFOP>5102</CFOP><uCom>KG</uCom><qCom>0.4080</qCom><vUnCom>9.95</vUnCom><vProd>4.06</vProd><indRegra>A</indRegra><vItem>4.06</vItem></prod><imposto><ICMS><ICMSSN102><Orig>0</Orig><CSOSN>102</CSOSN></ICMSSN102></ICMS><PIS><PISSN><CST>49</CST></PISSN></PIS><COFINS><COFINSSN><CST>49</CST></COFINSSN></COFINS></imposto></det><det nItem="2"><prod><cProd>2</cProd><xProd>PAO DOCE</xProd><NCM>19059010</NCM><CFOP>5102</CFOP><uCom>KG</uCom><qCom>0.2760</qCom><vUnCom>10.99</vUnCom><vProd>3.03</vProd><indRegra>A</indRegra><vItem>3.03</vItem></prod><imposto><ICMS><ICMSSN102><Orig>0</Orig><CSOSN>102</CSOSN></ICMSSN102></ICMS><PIS><PISSN><CST>49</CST></PISSN></PIS><COFINS><COFINSSN><CST>49</CST></COFINSSN></COFINS></imposto></det><total><ICMSTot><vICMS>0.00</vICMS><vProd>7.09</vProd><vDesc>0.00</vDesc><vPIS>0.00</vPIS><vCOFINS>0.00</vCOFINS><vPISST>0.00</vPISST><vCOFINSST>0.00</vCOFINSST><vOutro>0.00</vOutro></ICMSTot><vCFe>7.09</vCFe><vCFeLei12741>0.00</vCFeLei12741></total><pgto><MP><cMP>01</cMP><vMP>7.09</vMP></MP><vTroco>0.00</vTroco></pgto><infAdic><infCpl>** IMPOSSIVEL CALCULAR O IMPOSTO APROX. ** Itens: [1,2]</infCpl><obsFisco xCampo="04.04.05.04"><xTexto>Comete crime quem sonega</xTexto></obsFisco></infAdic></infCFe><Signature xmlns="http://www.w3.org/2000/09/xmldsig#"><SignedInfo><CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></CanonicalizationMethod><SignatureMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"></SignatureMethod><Reference URI="#CFe35190502177216000152590005900960202501943209"><Transforms><Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></Transform><Transform Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></Transform></Transforms><DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256"></DigestMethod><DigestValue>rdTzuWfpqjLcjHYXvKfOhRTfXuC4acxGj9pLNfPMUY0=</DigestValue></Reference></SignedInfo><SignatureValue>K4V2qUvspMKZITp6YziKOnWjTqz/NNQ0S8IlmSQaa44NksCO2Fxfw6YJ7LCmIAfWqihOYlDb6MJFsex/NRGR5+7grW0BcR7+qJho01+N2XbkAyKrUueD6Hd/HWDbOurrLi6RCvyxLB64wB1K7uE/xJbOncgar/qm+yawiq69jv0IpI1vCszyE+qKJfD0XJBr/TR5a7hZFH0gU2t566pNDYkRof3cPpDRZx8u1rbE/+NimXe3Ok5kShIuHzXDkk984BtN/NRgfPlByeoM7YC1IPXR0dXsEXyBB6xmE1SbEs/8ivolA2wVRwTzPjnt4byLFbnffqdlTeAr6pPSZNJqVA==</SignatureValue><KeyInfo><X509Data><X509Certificate>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</X509Certificate></X509Data></KeyInfo></Signature></CFe><CFe><infCFe versaoSB="010200" versaoDadosEnt="0.07" versao="0.07" Id="CFe35190502177216000152590005900960202512820944"><ide><cUF>35</cUF><cNF>282094</cNF><mod>59</mod><nserieSAT>000590096</nserieSAT><nCFe>020251</nCFe><dEmi>20190501</dEmi><hEmi>072656</hEmi><cDV>4</cDV><tpAmb>1</tpAmb><CNPJ>14072178000152</CNPJ><signAC>f6BDUfkqhBjSHu8QsE6znxQO750wXoTIp+konWrs/ZRmdUYLsm+9NATp7Yge4It4ObzNe8m0/V8DNFb8UXB8HqiKSw1yWJz46/v6IEHvKLMCpJUnVnYEh7/y4e5U0dLn4HCx1quZYB/g2x1Jm33peS++ld6VGkmiMX2VqGPRNsilaegJH8YdpsirT86ercFWaZRavRP16lu1s4HqFbZogz7LcHn9whDelFCq3fBigaPSs1e1uOtEvrFlGqxf3xTzknVrNGcBOpcvJCCuOz7VfaCQn3OoDL2LaQHmNECuwn2dj+B/SF+plae/pl2fq4nsVtXj8OyUH4OUo/Fa3zH+uA==</signAC><assinaturaQRCODE>QtwyNeU/GEbFYRNx4FhHxgTq3FrN9K+QFqb6omVXIG8qjbARtoQdTm8oG8epAgknm2rdtLdlBZp28CQw10TmR8UtLiOgArVN3i8WmdYQ4MBuCAwd/m9ibcjlwL09P1FWJbSUMX7/xlge208XLu2uj40//LWMeExubNetiJONVhv3AOWXE+Z+HuhX6rjFWJr7hanUXsZuL//ZhMuuVEpcip10LNeJSmTAwN+FDCVw6EBLVSf8pABrAWeh6o2ZS7cMthHcSF5MA3W5vThnAzZ+d2iy6uEOHxURdcqqLKAv2itTz0mHX6CGkQJC1qx8C6Zi9pAJIAZl6VQd6trIZ2AnUw==</assinaturaQRCODE><numeroCaixa>001</numeroCaixa></ide><emit><CNPJ>02177216000152</CNPJ><xNome>DESTRO E DESTRO COMERCIO DE ALIMENTOS LTDA</xNome><enderEmit><xLgr>RUA TAUBATE</xLgr><nro>753</nro><xCpl>Nao Informado</xCpl><xBairro>ESTUFA I</xBairro><xMun>UBATUBA</xMun><CEP>11680000</CEP></enderEmit><IE>701042501116</IE><cRegTrib>1</cRegTrib><indRatISSQN>N</indRatISSQN></emit><dest></dest><det nItem="1"><prod><cProd>788</cProd><xProd>DIVERSOS</xProd><NCM>19019090</NCM><CFOP>5102</CFOP><uCom>UN</uCom><qCom>5.0000</qCom><vUnCom>1.00</vUnCom><vProd>5.00</vProd><indRegra>A</indRegra><vItem>5.00</vItem></prod><imposto><ICMS><ICMSSN102><Orig>3</Orig><CSOSN>102</CSOSN></ICMSSN102></ICMS><PIS><PISSN><CST>49</CST></PISSN></PIS><COFINS><COFINSSN><CST>49</CST></COFINSSN></COFINS></imposto></det><total><ICMSTot><vICMS>0.00</vICMS><vProd>5.00</vProd><vDesc>0.00</vDesc><vPIS>0.00</vPIS><vCOFINS>0.00</vCOFINS><vPISST>0.00</vPISST><vCOFINSST>0.00</vCOFINSST><vOutro>0.00</vOutro></ICMSTot><vCFe>5.00</vCFe><vCFeLei12741>0.00</vCFeLei12741></total><pgto><MP><cMP>01</cMP><vMP>5.00</vMP></MP><vTroco>0.00</vTroco></pgto><infAdic><infCpl>** IMPOSSIVEL CALCULAR O IMPOSTO APROX. ** Itens: [788]</infCpl><obsFisco xCampo="04.04.05.04"><xTexto>Comete crime quem sonega</xTexto></obsFisco></infAdic></infCFe><Signature xmlns="http://www.w3.org/2000/09/xmldsig#"><SignedInfo><CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></CanonicalizationMethod><SignatureMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"></SignatureMethod><Reference URI="#CFe35190502177216000152590005900960202512820944"><Transforms><Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></Transform><Transform Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></Transform></Transforms><DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256"></DigestMethod><DigestValue>AN9LiOaVWroOe516hiiEtg6eq/jVEhezc1tZ7qbvZv0=</DigestValue></Reference></SignedInfo><SignatureValue>mSpsASWws7fxWDpxY6UyE57HcTAXshnd7CwtxbNJJcixWQHSm0/MplHJXiD7xTc45lPvuJ9Fwvbo0tM9+HhrwVg7bt/iRCgAHDn3psLzRj+RP2DXX9VqzSn662eTLKIEUazRWGuTn9jBsx9AwlQxcJrHeYNFyZL/nEgmCBI29rcfkja/UjeF6Y6IIhfvhlRUhFSbLfIWK2spETazMP0zzKGOnZrPtjAFwVRZCHuQ/X1WiFcEYgDJadbZN7ZPuV3ajn5Qcv+04Om4CUASIkahjCbmsn7Y8yRSSZQPx1F4D7h2zuOHBgB+5d0hDWA5+t1eDSimYIxfN9MIQSAusBK6RQ==</SignatureValue><KeyInfo><X509Data><X509Certificate>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</X509Certificate></X509Data></KeyInfo></Signature></CFe><CFe><infCFe versaoSB="010200" versaoDadosEnt="0.07" versao="0.07" Id="CFe35190502177216000152590005900960202525004741"><ide><cUF>35</cUF><cNF>500474</cNF><mod>59</mod><nserieSAT>000590096</nserieSAT><nCFe>020252</nCFe><dEmi>20190501</dEmi><hEmi>072858</hEmi><cDV>1</cDV><tpAmb>1</tpAmb><CNPJ>14072178000152</CNPJ><signAC>f6BDUfkqhBjSHu8QsE6znxQO750wXoTIp+konWrs/ZRmdUYLsm+9NATp7Yge4It4ObzNe8m0/V8DNFb8UXB8HqiKSw1yWJz46/v6IEHvKLMCpJUnVnYEh7/y4e5U0dLn4HCx1quZYB/g2x1Jm33peS++ld6VGkmiMX2VqGPRNsilaegJH8YdpsirT86ercFWaZRavRP16lu1s4HqFbZogz7LcHn9whDelFCq3fBigaPSs1e1uOtEvrFlGqxf3xTzknVrNGcBOpcvJCCuOz7VfaCQn3OoDL2LaQHmNECuwn2dj+B/SF+plae/pl2fq4nsVtXj8OyUH4OUo/Fa3zH+uA==</signAC><assinaturaQRCODE>I6Oe8uXlWy1ILl8oqs2RHLqIdDnm52Ab+Ig7D9uOREYpGHnQQUDZKnNdKG9nwOXwQm1gELYPWh/Gmxh1YmMMzPAOuI2E9PCybaDLvSCCSRfOeB6zZn8DKmyqD+Pw0uEk05uUm7NtHj2kmR/C41iAHSL8pVhUbLLkw6OLLS1NXEzc5mZtGUjpPbBPoSTTfc2iQEMq9rilSg/k/W+x+jYioNIZUZnnDMGwMdXklc61MLqCCO24jvCEW17WW2fUgY3tV4jptlb9g88VgSQGkZMC9GiMlbOGarouHnSp6bVTnZk1dHckgfqF9j0YvVfry81HvaUwfklX2xRWeTEgjGVThw==</assinaturaQRCODE><numeroCaixa>001</numeroCaixa></ide><emit><CNPJ>02177216000152</CNPJ><xNome>DESTRO E DESTRO COMERCIO DE ALIMENTOS LTDA</xNome><enderEmit><xLgr>RUA TAUBATE</xLgr><nro>753</nro><xCpl>Nao Informado</xCpl><xBairro>ESTUFA I</xBairro><xMun>UBATUBA</xMun><CEP>11680000</CEP></enderEmit><IE>701042501116</IE><cRegTrib>1</cRegTrib><indRatISSQN>N</indRatISSQN></emit><dest></dest><det nItem="1"><prod><cProd>788</cProd><xProd>DIVERSOS</xProd><NCM>19019090</NCM><CFOP>5102</CFOP><uCom>UN</uCom><qCom>142.7500</qCom><vUnCom>1.00</vUnCom><vProd>142.75</vProd><indRegra>A</indRegra><vItem>142.75</vItem></prod><imposto><ICMS><ICMSSN102><Orig>3</Orig><CSOSN>102</CSOSN></ICMSSN102></ICMS><PIS><PISSN><CST>49</CST></PISSN></PIS><COFINS><COFINSSN><CST>49</CST></COFINSSN></COFINS></imposto></det><total><ICMSTot><vICMS>0.00</vICMS><vProd>142.75</vProd><vDesc>0.00</vDesc><vPIS>0.00</vPIS><vCOFINS>0.00</vCOFINS><vPISST>0.00</vPISST><vCOFINSST>0.00</vCOFINSST><vOutro>0.00</vOutro></ICMSTot><vCFe>142.75</vCFe><vCFeLei12741>0.00</vCFeLei12741></total><pgto><MP><cMP>03</cMP><vMP>142.75</vMP></MP><vTroco>0.00</vTroco></pgto><infAdic><infCpl>** IMPOSSIVEL CALCULAR O IMPOSTO APROX. ** Itens: [788]</infCpl><obsFisco xCampo="04.04.05.04"><xTexto>Comete crime quem sonega</xTexto></obsFisco></infAdic></infCFe><Signature xmlns="http://www.w3.org/2000/09/xmldsig#"><SignedInfo><CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></CanonicalizationMethod><SignatureMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"></SignatureMethod><Reference URI="#CFe35190502177216000152590005900960202525004741"><Transforms><Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></Transform><Transform Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></Transform></Transforms><DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256"></DigestMethod><DigestValue>4D9PpXMfClOzEJ+MPTOAX6lHFtMbm7yF5ngc2SforUE=</DigestValue></Reference></SignedInfo><SignatureValue>i6zbHl1W8OH1i8nPgDG37m0s1G2umtlFUSxwUZfCKUUfqnh07H7FkJeYy8lotxoiLM/SjCK4C9A70vnlnwGqhRMID2yGeEM3tT0pHBYwNMSmdNksBw1eyjPjz/LH7jlX1KcbTbSr6l0clc1f04BWq+O4k/lTXD3hBTZxTanDCeeonsW+ik2W/hx0RLGdM/tWNB124bV8XoEMDC/pUiPnVVL2aAOrOEjfriBsBKPyVLt6ke1NxkOh1hWekqBhAcCV7p1rQV6Xj5xBcJRIUcN4TI9UTBNZgIARmgQ6dqlOMsO7NObUrmlfZOOWmKhNzj3bGUTN+kPtb6UE5RY0WQqJyw==</SignatureValue><KeyInfo><X509Data><X509Certificate>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</X509Certificate></X509Data></KeyInfo></Signature></CFe><CFe><infCFe versaoSB="010200" versaoDadosEnt="0.07" versao="0.07" Id="CFe35190502177216000152590005900960202532703021"><ide><cUF>35</cUF><cNF>270302</cNF><mod>59</mod><nserieSAT>000590096</nserieSAT><nCFe>020253</nCFe><dEmi>20190501</dEmi><hEmi>073056</hEmi><cDV>1</cDV><tpAmb>1</tpAmb><CNPJ>14072178000152</CNPJ><signAC>f6BDUfkqhBjSHu8QsE6znxQO750wXoTIp+konWrs/ZRmdUYLsm+9NATp7Yge4It4ObzNe8m0/V8DNFb8UXB8HqiKSw1yWJz46/v6IEHvKLMCpJUnVnYEh7/y4e5U0dLn4HCx1quZYB/g2x1Jm33peS++ld6VGkmiMX2VqGPRNsilaegJH8YdpsirT86ercFWaZRavRP16lu1s4HqFbZogz7LcHn9whDelFCq3fBigaPSs1e1uOtEvrFlGqxf3xTzknVrNGcBOpcvJCCuOz7VfaCQn3OoDL2LaQHmNECuwn2dj+B/SF+plae/pl2fq4nsVtXj8OyUH4OUo/Fa3zH+uA==</signAC><assinaturaQRCODE>Kg7CkyalaxU+2LhYKKABZ3nJmYFT7x8kXrZm3vbDJkIe0ulg8K7QXELQzKEo/K54JuJvLYoeF9kEQ99KI6Bb7PtQBWzua93mv5bE/IuN/UUI6PE1s6ixmpB1XiWnKA7zxfe5tiMM6ZvNn7js5xzdWQYJYCMTt3mdSsR73hOxywPJVXICH+NvIsE73swOOf67onAL1zHNfgVH9Pf/mXwzIur/arLHJ2XTE0nQ2KMbfEgh7RU/b4VRT4snx2bVeErUE6CVCVamQvM4PHY7Sal4nC57h0xYfclBHFxHbnAn1NhlAIcajx7I1uoQl0uoJ1uw7C+Vm3xqU3Ga/CLACWE+JA==</assinaturaQRCODE><numeroCaixa>001</numeroCaixa></ide><emit><CNPJ>02177216000152</CNPJ><xNome>DESTRO E DESTRO COMERCIO DE ALIMENTOS LTDA</xNome><enderEmit><xLgr>RUA TAUBATE</xLgr><nro>753</nro><xCpl>Nao Informado</xCpl><xBairro>ESTUFA I</xBairro><xMun>UBATUBA</xMun><CEP>11680000</CEP></enderEmit><IE>701042501116</IE><cRegTrib>1</cRegTrib><indRatISSQN>N</indRatISSQN></emit><dest></dest><det nItem="1"><prod><cProd>1069</cProd><xProd>PAO DE QUEIJO PEQUENO</xProd><NCM>19052090</NCM><CFOP>5102</CFOP><uCom>KG</uCom><qCom>0.1060</qCom><vUnCom>25.00</vUnCom><vProd>2.65</vProd><indRegra>A</indRegra><vItem>2.65</vItem></prod><imposto><ICMS><ICMSSN102><Orig>0</Orig><CSOSN>102</CSOSN></ICMSSN102></ICMS><PIS><PISSN><CST>49</CST></PISSN></PIS><COFINS><COFINSSN><CST>49</CST></COFINSSN></COFINS></imposto></det><det nItem="2"><prod><cProd>788</cProd><xProd>DIVERSOS</xProd><NCM>19019090</NCM><CFOP>5102</CFOP><uCom>UN</uCom><qCom>1.4000</qCom><vUnCom>1.00</vUnCom><vProd>1.40</vProd><indRegra>A</indRegra><vItem>1.40</vItem></prod><imposto><ICMS><ICMSSN102><Orig>3</Orig><CSOSN>102</CSOSN></ICMSSN102></ICMS><PIS><PISSN><CST>49</CST></PISSN></PIS><COFINS><COFINSSN><CST>49</CST></COFINSSN></COFINS></imposto></det><total><ICMSTot><vICMS>0.00</vICMS><vProd>4.05</vProd><vDesc>0.00</vDesc><vPIS>0.00</vPIS><vCOFINS>0.00</vCOFINS><vPISST>0.00</vPISST><vCOFINSST>0.00</vCOFINSST><vOutro>0.00</vOutro></ICMSTot><vCFe>4.05</vCFe><vCFeLei12741>0.00</vCFeLei12741></total><pgto><MP><cMP>03</cMP><vMP>4.05</vMP></MP><vTroco>0.00</vTroco></pgto><infAdic><infCpl>** IMPOSSIVEL CALCULAR O IMPOSTO APROX. ** Itens: [1069,788]</infCpl><obsFisco xCampo="04.04.05.04"><xTexto>Comete crime quem sonega</xTexto></obsFisco></infAdic></infCFe><Signature xmlns="http://www.w3.org/2000/09/xmldsig#"><SignedInfo><CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></CanonicalizationMethod><SignatureMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"></SignatureMethod><Reference URI="#CFe35190502177216000152590005900960202532703021"><Transforms><Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></Transform><Transform Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></Transform></Transforms><DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256"></DigestMethod><DigestValue>WhHDy4ZA3Bze+25dYRbha9SJaN+v7Ws9Rv84Co/IKDc=</DigestValue></Reference></SignedInfo><SignatureValue>Dn/aw0QZJMrxvocc32z0N7rWCa7doRPHSRI1PMpXqAnJfCv3Ofl6Y6T3LNQe43hBaFlQR2k9800vnYXOWcMqsV1ZRX3QZwY28/RFJQhSoaKkSCPsmveaKkKE5ukw9JeKzT0UfPoAlDDL1Zx7Ag9THba3+mhg6T7uy5dSj9yKrD73ysnkAPNC8EQpsoN+K00CD38n/6R/aEcIy6r9lL83wLvwTkcSlMQJUswyrT3A8LdJZEETnF34OxliokyKyvsd/RqWydr6ian2+lN326oEfRQ5FS5z9zlvcpw3K7WQuQ/K47js4wPbJSrV6Drx7bS55K2JQcYfbC1s/Et0wSc2RA==</SignatureValue><KeyInfo><X509Data><X509Certificate>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</X509Certificate></X509Data></KeyInfo></Signature></CFe><CFe><infCFe versaoSB="010200" versaoDadosEnt="0.07" versao="0.07" Id="CFe35190502177216000152590005900960202540483639"><ide><cUF>35</cUF><cNF>048363</cNF><mod>59</mod><nserieSAT>000590096</nserieSAT><nCFe>020254</nCFe><dEmi>20190501</dEmi><hEmi>073119</hEmi><cDV>9</cDV><tpAmb>1</tpAmb><CNPJ>14072178000152</CNPJ><signAC>f6BDUfkqhBjSHu8QsE6znxQO750wXoTIp+konWrs/ZRmdUYLsm+9NATp7Yge4It4ObzNe8m0/V8DNFb8UXB8HqiKSw1yWJz46/v6IEHvKLMCpJUnVnYEh7/y4e5U0dLn4HCx1quZYB/g2x1Jm33peS++ld6VGkmiMX2VqGPRNsilaegJH8YdpsirT86ercFWaZRavRP16lu1s4HqFbZogz7LcHn9whDelFCq3fBigaPSs1e1uOtEvrFlGqxf3xTzknVrNGcBOpcvJCCuOz7VfaCQn3OoDL2LaQHmNECuwn2dj+B/SF+plae/pl2fq4nsVtXj8OyUH4OUo/Fa3zH+uA==</signAC><assinaturaQRCODE>s//oyNvT8O1phO1NWuSZ6NXRGw117TQ2buKKOz6+hI7MVszCYsd1jJC7YxgJIrM6f0fm+Jwee3bPal8g/z+5gQTNWBi6nrZspJqjuHFe/TpbFeynWm9Nmu7F/j6V248WHeOlT9h5Q9VFMBP6c+KUHzjhByA2s7v3NUar1tHHEnNEDiR+pmDtf4vtYu4scZLj3fyKkfsjWh9isAyMGokkVhqFx7fzW9V2A5+yHrA7k5Z2TT2ehNnz1isb5ueAm3PAIIJYq8/cVOfpmYH1/6AVUbKyiMXDnatzgSANId9ISYSX9d3E4miJ4egy09QVUqW1nrrEPhe4MtdpRjj2vIVXTA==</assinaturaQRCODE><numeroCaixa>001</numeroCaixa></ide><emit><CNPJ>02177216000152</CNPJ><xNome>DESTRO E DESTRO COMERCIO DE ALIMENTOS LTDA</xNome><enderEmit><xLgr>RUA TAUBATE</xLgr><nro>753</nro><xCpl>Nao Informado</xCpl><xBairro>ESTUFA I</xBairro><xMun>UBATUBA</xMun><CEP>11680000</CEP></enderEmit><IE>701042501116</IE><cRegTrib>1</cRegTrib><indRatISSQN>N</indRatISSQN></emit><dest></dest><det nItem="1"><prod><cProd>2522</cProd><cEAN>78936430</cEAN><xProd>CIGARRO HILTON AUTHENTIC</xProd><NCM>24022000</NCM><CFOP>5405</CFOP><uCom>UN</uCom><qCom>1.0000</qCom><vUnCom>3.00</vUnCom><vProd>3.00</vProd><indRegra>A</indRegra><vItem>3.00</vItem></prod><imposto><ICMS><ICMSSN102><Orig>0</Orig><CSOSN>500</CSOSN></ICMSSN102></ICMS><PIS><PISSN><CST>49</CST></PISSN></PIS><COFINS><COFINSSN><CST>49</CST></COFINSSN></COFINS></imposto></det><total><ICMSTot><vICMS>0.00</vICMS><vProd>3.00</vProd><vDesc>0.00</vDesc><vPIS>0.00</vPIS><vCOFINS>0.00</vCOFINS><vPISST>0.00</vPISST><vCOFINSST>0.00</vCOFINSST><vOutro>0.00</vOutro></ICMSTot><vCFe>3.00</vCFe><vCFeLei12741>0.00</vCFeLei12741></total><pgto><MP><cMP>01</cMP><vMP>3.00</vMP></MP><vTroco>0.00</vTroco></pgto><infAdic><infCpl>** IMPOSSIVEL CALCULAR O IMPOSTO APROX. ** Itens: [2522]</infCpl><obsFisco xCampo="04.04.05.04"><xTexto>Comete crime quem sonega</xTexto></obsFisco></infAdic></infCFe><Signature xmlns="http://www.w3.org/2000/09/xmldsig#"><SignedInfo><CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></CanonicalizationMethod><SignatureMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"></SignatureMethod><Reference URI="#CFe35190502177216000152590005900960202540483639"><Transforms><Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></Transform><Transform Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></Transform></Transforms><DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256"></DigestMethod><DigestValue>d0Y21gJfwqD32Kqcp+SAjwhto/Ds1hzH5ofxTGPcG+8=</DigestValue></Reference></SignedInfo><SignatureValue>UZQpFypXHPkgK02KwNYmAzQcADT3K8j95hZ6fVpm+8E4qv1rlHT4mgANf0f64wRoFCCRz/zNiySuowIcAoAONINRY4zOLTN5iUTvuZCZznpxbs/GdinZFp8TUzkMHQjXSPblyHwbEJS6sGCMw69ouOmtI2nTBO8/PjwPKIQpQ9N7V1fM1OWtlzeywuq66PCzIGxwMYvOSYD5fgOUYBU5Nijw8Rkp+zf5HEUIveDo/KIuQHSLUNEtgUuE9Hjq27Ild+y8Rf0DiuAX7vbW23x1Z8EDdfsn1iKP9CxbuONS17ZNt+aS9XI1Pn5cAQCMLpFk6143G5GkPxDIxPF2pSYj/w==</SignatureValue><KeyInfo><X509Data><X509Certificate>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</X509Certificate></X509Data></KeyInfo></Signature></CFe></LoteCFe><nSeg></nSeg><dhEnvio>20190501080033</dhEnvio><nserieSAT>000590096</nserieSAT></envCFe>'

def init():
	#Captura o caminho atual do script
	current = os.getcwd()
	#concatena a string do diretorio atual com a pasta 'xml'
	path = os.path.join(current,'xml')
	#verifica se o caminho formado existe
	if os.path.exists(path):
	#exibe um mensagem se existe
		print ("Diretorio temporario ja existe")
	else:
	#cria o diretorio caso ao existir
		os.mkdir(path)
	
def XmlCfeNome(xml):
	#captura o id do CFe baseado em REGEX 
	m = re.search('Id="(CFe\d{1,})"', xml)
	#retorna o id do CFe
	return m.group(1)
	

def XmlCfe(lote):
	#Verifica se o XML Ã© um arquivo em lotes CFe validos
	if (re.match('^<envCFe xmlns="http://www.fazenda.sp.gov.br/sat" versao="\d{1,}.\d{1,}">',lote)):

		#tag de abertura do cupom
		b1 = '<CFe>'
		#tag de fechamento do cupom
		b2 = '</CFe>'
		#inicio do cupom
		inicio=0
		#final do cupom
		fim=0
		#lista com as informacoes de todos os cupons
		lista=[]	
		#enquanto existe as tags acima faca o loop
		while (inicio>=0) and (fim >=0):
			#
			inicio=lote.find(b1,inicio)
			#
			fim=lote.find(b2,inicio)+6
			
			if inicio >= 0 and fim >= 0:
				lista.append({"ini":inicio,"fim":fim,"nome":XmlCfeNome(lote[inicio:fim])})
				inicio=fim
		return lista
	else:
		# Arquivo Xml de lote invalido
		return None

def PegarArquivos():
	#Captura o caminho atual do script
	current = os.getcwd()
	#variavel responsavel por salvar todos os arquivos xml
	xml=[]
	#loop que salva as informacoes do diretorio atual em variaveis
	for root, dirs, files in os.walk(current):
	#loop que percorrer todos os arquivos
		for f in files:
		#verifica se o arquivo possue a extensao '.xml'
			if f.endswith(".xml"):
		#atribua a variavel do tipo lista responsavel por armazenar todos os xmls da pasta
				xml.append(f)
		# Inibe o for pegar os arquivos de outras pastas de forma recursiva
		break
	for x in xml:
		LerArquivo(x)

def LerArquivo(fname):
	#concatena a string do diretorio atual com a pasta 'xml'
	path = os.path.join(os.getcwd(),'xml')
	#Le arquivo Lote
	file = open(fname,'r') 
	#armazena na string o arquivo
	lote = file.read()
	#pegas as informacoes dos CFes
	listacfes = XmlCfe(lote)
	#Verifica se e um arquivo em lote valido
	if (listacfes != None):
		#percorre a lista de CFes
		for cfe in listacfes:
			#Nome do Xml a ser gravado
			cfefinal = cfe["nome"]+".xml"
			
			newfile = os.path.join(path,cfefinal)
			
			if (os.path.exists(newfile)):
				print ("Arquivo %s ja existente"%cfefinal)
				
			cfexml = open(newfile,"w")
			cfexml.write(lote[cfe["ini"]:cfe["fim"]])
			cfexml.close()
	else:
		#Informa que o arquivo de Lote Cfe nao e valido
		print ("%s arquivo de lote invalido"%fname)
		
		
	
	
	
init()
PegarArquivos()

	

